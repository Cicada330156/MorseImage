<!DOCTYPE html>
<head>
    
</head>
<body>
    <textarea type="text" id="morseInput" width="300px" rows="10" cols="30"></textarea>
    <canvas id="canvas"></canvas>
    <img id="outputImage"><img>
    
    <script type="text/javascript">
        const canvas = document.getElementById("canvas");
        const morseInput = document.getElementById('morseInput');
        outputImage = document.getElementById('outputImage');
        textHeight = 30;
        
        const ctx = canvas.getContext('2d');
        ctx.font = 'bold '+textHeight+'px Arial'; // Sets font size and family
        ctx.textAlign = 'center'; // Aligns text horizontally
        ctx.textBaseline = 'middle'; // Aligns text vertically


        morseInput.addEventListener('input', function() {
            var inputText = morseInput.value;
            var inputTextArray = inputText.split('\n');

            ctx.fillStyle = 'white'; // Sets text color
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = 'black'; // Sets text color
            for (i = 0; i < inputTextArray.length; i++){
                ctx.fillText(inputTextArray[i], canvas.width / 2, (textHeight/2)+i*textHeight);
            }
            
            
            
            var img = canvas.toDataURL('image/png'); //https://stackoverflow.com/questions/923885/capture-html-canvas-as-gif-jpg-png-pdf
            outputImage.src = img;
        });
    </script>
</body>